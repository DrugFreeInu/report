<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>NOWL REPORT</title>
<style>
html,body{
  margin:0;height:100%;width:100%;
  background:#000;color:#fff;
  display:flex;align-items:center;justify-content:center;
  font-family:monospace;overflow:hidden;
  cursor:pointer;
}
#nowlReport{
  opacity:0;
  white-space:pre-line;
  text-align:center;
  font-size:1.15em;
  line-height:1.7em;
  padding:25px 35px;
  border:1px solid rgba(255,255,255,.2);
  border-radius:10px;
  background:rgba(0,0,0,.85);
  filter:drop-shadow(0 0 15px rgba(255,255,255,.4));
  transition:opacity 2s ease;
}
@keyframes wind {
  0%   {filter:blur(0px) opacity(0);}
  10%  {filter:blur(0px) opacity(1);}
  90%  {filter:blur(0px) opacity(1);}
  100% {filter:blur(12px) opacity(0);}
}
</style>
</head>
<body>
<div id="nowlReport">tap to generate report ðŸ¦‰</div>
<script>
(function(){
  "use strict";
  const report=document.getElementById('nowlReport');
  let active=false;
  const savedIntel=localStorage.getItem("nowlIntel");
  localStorage.removeItem("nowlIntel");

  function buildReport(){
    const time=new Date().toLocaleString();
    if(savedIntel){
      return `${savedIntel}\n\nGenerated: ${time}`;
    }
    return `NOWL REPORT\n${time}\nSystem nominal.\nWind secured.`;
  }

  function showReport(){
    if(active)return;
    active=true;
    report.textContent=buildReport();
    report.style.opacity='1';
    report.style.animation='wind 18s ease forwards';
    // leave visible long enough to read, then fade
    setTimeout(()=>selfDestruct(),18000);
  }

  function selfDestruct(){
    report.style.transition='opacity 2s';
    report.style.opacity='0';
    setTimeout(()=>{report.remove();},2500);
  }

  const hour=new Date().getHours();
  if(savedIntel||hour>=21||hour<6){
    setTimeout(showReport,800);
  }

  report.addEventListener('click',showReport);
})();
</script>
</body>
</html>
