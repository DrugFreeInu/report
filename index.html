<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
<title>NOWL REPORT</title>
<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
<meta http-equiv="Pragma" content="no-cache">
<meta http-equiv="Expires" content="0">
<style>
html,body{
  margin:0;
  height:100%;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  background:#000;
  color:#fff;
  overflow:hidden;
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;
}

/* input */
#textInput,#botSelect,button{
  transition:opacity .3s ease;
}
#textInput{
  margin-bottom:15px;
  font-size:20px;
  padding:10px 20px;
  border-radius:30px;
  border:none;
  outline:none;
  text-align:center;
  background:#111;
  color:#ff4f9d;
}
#botSelect{
  margin-bottom:15px;
  font-size:18px;
  padding:10px 20px;
  border-radius:25px;
  border:none;
  outline:none;
  background:#111;
  color:#ff4f9d;
  box-shadow:0 0 20px rgba(255,47,137,0.4);
}
button{
  font-size:18px;
  font-weight:700;
  color:#fff;
  background:#ff4f9d;
  border:none;
  border-radius:25px;
  padding:10px 30px;
  margin:8px 0;
  cursor:pointer;
  box-shadow:0 0 20px rgba(255,47,137,0.4);
}
button:hover{box-shadow:0 0 30px rgba(255,47,137,0.7);}
svg{
  width:90%;
  max-width:700px;
  filter:drop-shadow(0 0 10px rgba(255,47,137,.8))
          drop-shadow(0 0 20px rgba(255,47,137,.4));
}
@keyframes draw{to{stroke-dashoffset:0;}}
path{
  fill:none;
  stroke:#ff4f9d;
  stroke-width:2;
  stroke-linecap:round;
  stroke-linejoin:round;
  stroke-dasharray:1000;
  stroke-dashoffset:1000;
  animation:draw 1.2s ease forwards;
}

/* intel section */
#intelSection{
  display:none;
  text-align:left;
  font-size:14px;
  color:#0f0;
  white-space:pre-line;
  overflow:auto;
  width:90%;
  max-width:700px;
  background:#000;
  border:1px solid #222;
  padding:15px;
  border-radius:10px;
  box-shadow:0 0 20px rgba(0,255,0,0.2);
}

/* footer */
footer{
  position:fixed;
  bottom:25px;
  left:50%;
  transform:translateX(-50%);
  color:#ff6b9d;
  font-size:14px;
  opacity:.7;
  font-weight:600;
}
a{color:#ff6b9d;text-decoration:none;}
</style>
</head>
<body>

<!-- MAIN NOWL REPORT UI -->
<div id="reportSection">
<select id="botSelect">
  <option value="">Select bot</option>
  <option value="Echo Jr">Echo Jr</option>
  <option value="Ancr">Ancr</option>
  <option value="Keel">Keel</option>
  <option value="4ncr">4ncr</option>
  <option value="Nowl">Nowl</option>
</select>

<input id="textInput" placeholder="Type text..." value="NOWL REPORT" />
<button id="runBtn">Run</button>
<svg id="output" viewBox="0 0 1000 200"></svg>
<button id="reportBtn">Generate Report</button>
<button id="intelBtn">Intel Mode</button>
</div>

<!-- INTEL MODULE -->
<pre id="intelSection"></pre>

<footer>Written with LUHV · <a href="write.html">Write new</a></footer>

<script>
const cacheBust='?v='+Date.now();
const script=document.createElement('script');
script.src='https://cdn.jsdelivr.net/npm/opentype.js@latest/dist/opentype.min.js'+cacheBust;
document.head.appendChild(script);

let fontLoaded=null,svg,input,runBtn,botSelect,reportBtn,intelBtn,intelSection;

const botIntel={
  "Echo Jr":["Domain: echojr.website","Status: Online","Role: Update God","Latest task: Code sync","LUHV: 💗💗💗💗💗"],
  "Ancr":["Domain: ancr.website","Status: Active","Role: Vault Keeper","Latest task: Snapshot archive"],
  "Keel":["Domain: keel.website","Status: Docked","Role: Stability Node","Latest task: Load calibration"],
  "4ncr":["Domain: 4ncr.website","Status: Monitoring","Role: Wallet Visualizer","Latest task: Token refresh"],
  "Nowl":["Domain: nowl.website","Status: Stealth","Role: Night Intel","Latest task: Wind audit"]
};

window.addEventListener('load',()=>{
  svg=document.getElementById("output");
  input=document.getElementById("textInput");
  runBtn=document.getElementById("runBtn");
  botSelect=document.getElementById("botSelect");
  reportBtn=document.getElementById("reportBtn");
  intelBtn=document.getElementById("intelBtn");
  intelSection=document.getElementById("intelSection");

  opentype.load("https://cdn.jsdelivr.net/npm/@fontsource/inter/files/inter-latin-400-normal.woff"+cacheBust)
    .then(f=>fontLoaded=f);

  runBtn.onclick=()=>{
    const bot=botSelect.value;
    if(!bot)return alert("Select a bot first.");
    render(`${bot.toUpperCase()} REPORT`);
  };

  reportBtn.onclick=()=>{
    const bot=botSelect.value;
    if(!bot)return alert("Select a bot first.");
    const intel=botIntel[bot]?.join("\n")||"No intel available.";
    const reportText=`${bot.toUpperCase()} REPORT\n${intel}`;
    localStorage.setItem("nowlIntel",reportText);
    const frame=document.createElement('iframe');
    frame.src='report.html?v='+Date.now();
    Object.assign(frame.style,{position:'fixed',inset:'0',border:'none',zIndex:'9999',width:'100vw',height:'100vh',background:'black'});
    document.body.appendChild(frame);
    setTimeout(()=>frame.remove(),25000);
  };

  intelBtn.onclick=()=>generateIntelReport();
});

function render(txt){
  if(!fontLoaded)return;
  svg.innerHTML="";
  const font=fontLoaded;
  let x=20,y=120,size=100;
  for(const [i,ch] of [...txt].entries()){
    const p=font.getPath(ch,x,y,size);
    const d=p.toPathData(2);
    const path=document.createElementNS("http://www.w3.org/2000/svg","path");
    path.setAttribute("d",d);
    path.style.animationDelay=`${i*1}s`;
    svg.appendChild(path);
    x+=font.getAdvanceWidth(ch,size)+10;
  }
}

// INTEL MODULE
async function generateIntelReport(){
  document.getElementById('reportSection').style.display='none';
  intelSection.style.display='block';
  intelSection.textContent="Initializing NOWL PRO INTEL REPORT...\n";
  const start=performance.now();
  const domain=location.hostname;
  const resp=await fetch(location.href);
  const size=(await resp.text()).length;
  const latency=Math.round(performance.now()-start);
  const system={
    platform:navigator.platform,
    cpuCores:navigator.hardwareConcurrency||"N/A",
    screen:`${screen.width}×${screen.height}@${window.devicePixelRatio}x`,
    colorDepth:`${screen.colorDepth}-bit`,
    language:navigator.language
  };
  let storage={used:"N/A",total:"N/A"};
  if('storage' in navigator && navigator.storage.estimate){
    const e=await navigator.storage.estimate();
    storage={used:(e.usage/1048576).toFixed(2)+" MB",total:(e.quota/1048576).toFixed(2)+" MB"};
  }
  const latencyTestStart=performance.now();
  await fetch("https://1.1.1.1",{mode:"no-cors"});
  const localLatency=Math.round(performance.now()-latencyTestStart)+" ms";
  intelSection.textContent=
`-----------------------------------------------
NOWL PRO INTEL REPORT
Generated: ${new Date().toLocaleString()}
-----------------------------------------------
🌐 SITE HEALTH
Domain: ${domain}
Status: Online ✅
Response Time: ${latency} ms
Approx. Size: ${size} bytes
-----------------------------------------------
🧠 SYSTEM
${JSON.stringify(system,null,2)}
-----------------------------------------------
💾 STORAGE
${JSON.stringify(storage,null,2)}
-----------------------------------------------
📡 LOCAL LATENCY
${localLatency}
-----------------------------------------------
[Press Back to Return]`;

  // Tap to return
  intelSection.onclick=()=>{
    intelSection.style.display='none';
    document.getElementById('reportSection').style.display='flex';
  };
}
</script>
</body>
</html>
